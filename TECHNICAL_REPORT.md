# Nixtio AI：多代理协同的小红书爆款创作 Agent 技术报告

## 0. 项目核心：从“文本生成”到“专家级 Agent”



Nixtio AI 不仅仅是一个包装好的 Prompt 界面，它是一个深度适配小红书生态的 **Sequential Pipeline Agent (序贯流水线代理)**。
我们的技术目标很明确：通过多阶段的 Agent 协同，将模糊的“关键词”转化为具备营销逻辑、平台适配度 100% 的爆款内容。

---

## 1. 架构设计：五层序贯流水线引擎

我们拒绝了“一气呵成”的粗暴生成，转而采用分阶段的状态机架构，确保每一环节都有技术支撑：

*   **感知层 (MCP Protocol)**：集成 **Model Context Protocol**。Agent 不再闭门造车，而是通过动态调用联网搜索和笔记爬虫，实时对齐平台热度，解决 LLM 知识滞后问题。
*   **逻辑层 (Strategy Match)**：基于 RAG 思路匹配 AIDA、SCQA 等营销模型。这决定了文案的“骨架”是否符合消费心理学。
*   **创作层 (Contextual Write)**：采用流式输出。标题、正文、标签并不是独立生成，而是在同一个上下文窗口内进行协同推理，保证风格一致。
*   **诊断层 (Critique Agent)**：**这是技术亮点**。引入独立的影子 Agent 进行 Self-Correction。它会围绕“钩子引力、框架完整度”等维度对内容进行量化评估，并输出诊断报告。
*   **渲染层 (Real-time Preview)**：通过 Vue 3 响应式系统实现双端预览。

---

## 2. Prompt 工程：深度约束与结构化注入

为了让 GLM-4.7 稳定输出“人话”，我们实施了精细的 Prompt 策略：

*   **强类型 JSON 约束**：通过 Schema Enforcement 强制模型返回结构化 JSON。这规避了传统解析中常见的 Markdown 干扰，极大提升了系统稳定性。
*   **平台特性硬编码**：
    *   针对小红书不兼容加粗的痛点，我们在 System Prompt 中植入了**负向约束逻辑**。
    *   **Emoji 密度控制**：通过 Few-shot 示例，训练模型掌握“呼吸感”分段和表情符号的黄金比例。
*   **CoT 思维链引导**：要求 Agent 在输出正文前，先进行“策略自述”（即分析为什么选这个钩子），从而显著提升生成内容的逻辑深度。

---

## 3. 工程健壮性：如何处理 AI 的“不确定性”

在真实开发中，我们通过以下技术方案解决了 Agent 的常见坑位：

*   **Fallback 容错机制**：当 AI 返回非标准 JSON 或解析失败时，系统会自动触发基于模板的**二次兜底逻辑**，确保 UI 永不崩溃。
*   **正则后处理器 (Regex Post-Processor)**：在渲染前，通过高效的正则管道过滤残留的 Markdown 符号（如 `**`），确保预览效果与真实 App 100% 一致。
*   **上下文保持策略**：在多轮交互中，我们采用“增量式 Prompt 注入”，避免了长对话下 Agent 目标漂移的问题。

---

## 4. 实测评价：GLM-4.7 在 Agent 场景下的表现

*   **优势**：
    1.  **中文语义深度**：在处理小红书特有的“种草”语境时，展现了极高的原生理解力。
    2.  **指令遵循度**：对 JSON 格式和负向约束的执行力极强，是构建 Agent 的理想底座。
*   **挑战与优化**：
    1.  针对偶发的“幻觉”现象，我们通过 **MCP 实时搜索** 进行了闭环补齐。
    2.  通过 Prompt 调优，克服了早期版本中 Emoji 使用过于单一的问题。

---
*Nixtio AI：用技术解构爆款，让 Agent 真正落地。*
